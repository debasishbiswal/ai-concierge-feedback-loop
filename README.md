# AI Concierge Feedback Loop — Streamlit App

This repository contains a small Streamlit application that builds on the ideas from the *AI Concierge Feedback Loop* notebook.  It shows how to load guest feedback data, compute a simple sentiment score for each comment and visualise some basic statistics.  It also falls back to generating a synthetic data set with the same schema as the original notebook when no file is provided.

Beyond the basics, the app now supports **optional AI‑driven analysis** via [LangChain](https://python.langchain.com) and the OpenAI API.  When you provide an API key, the app will send the first 100 comments to a chat model and return a structured report that highlights common themes, suggests actionable improvements and summarises the overall sentiment.

## Contents

* `AI_Concierge_Feedback_Loop.ipynb` – The original Jupyter notebook that demonstrates how to generate a synthetic guest feedback dataset and analyse it with LangChain and other tools.
* `app.py` – A Streamlit app that loads a CSV of guest feedback, or generates dummy data on the fly if none is provided.  It computes sentiment scores using TextBlob and displays a few simple summaries.
  It also offers an optional LangChain/OpenAI analysis: enter your API key in the UI to run the language model on the data and receive themes, suggestions and a summary.
* `requirements.txt` – A list of Python packages needed to run the notebook and the app.

## Usage

1. Clone or download this repository.
2. Install the dependencies using pip:

   ```bash
   pip install -r requirements.txt
   ```

3. Launch the Streamlit app:

   ```bash
   streamlit run app.py
   ```

4. In the Streamlit UI you can upload a CSV file containing guest feedback.  The CSV should have columns similar to those generated by the notebook (for example `property`, `city`, `state`, `comment_text`, `is_complaint`, etc.).  If you do not upload a file the app will generate a synthetic dataset with the same columns for demonstration purposes.

5. (Optional) To use the AI‑driven analysis, enter your OpenAI API key in the **OpenAI API Key** field and click **Run Language Model Analysis**.  The app will analyse up to the first 100 comments using a chat model via LangChain.  It will return a list of common themes, corresponding actionable suggestions and an overall summary.  If you leave the key blank, this step is skipped.

## Dummy Data

The dummy data is generated using random property details, stay information and comment templates inspired by the notebook.  It produces a DataFrame with these columns:

* `feedback_id`: unique identifier for the feedback entry.
* `property`, `city`, `state`, `property_type`: details about the hotel.
* `channel`: where the feedback was collected (chat, email, etc.).
* `created_at`: a random date in 2025.
* `comment_text`: the customer comment, sampled from positive or complaint templates.
* `stay_purpose`, `room_type`, `loyalty_tier`: guest profile information.
* `stay_length_nights`, `party_adults`, `party_kids`: party details.
* `observed_wait_minutes`: minutes of wait mentioned in the comment.
* `is_complaint`: 1 for a complaint and 0 for a praise.

## Notes

* The optional LangChain/OpenAI integration requires an API key.  You can pass your key via the UI when running the app locally or set the `OPENAI_API_KEY` environment variable and modify the code accordingly.  Keep your key secret; do not commit it to version control.
* Only the first 100 comments are sent to the language model to keep API costs reasonable.  Feel free to adjust the limit in `app.py` if you have a larger budget.
* If the `langchain` or `langchain-openai` packages are not installed, the app will still run but the AI‑driven analysis section will display an error message.  Install these dependencies using the provided `requirements.txt` or add them separately.